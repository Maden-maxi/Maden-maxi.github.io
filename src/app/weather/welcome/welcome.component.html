<div class="row">
  <div class="col-xs-12 col-md-4">
    <form #queryForm="ngForm" (submit)="search(queryForm)">

      <md-select (change)="selectedValues = {}" placeholder="Search By" name="searchBy" [required]="true" [value]="selectedParam" [(ngModel)]="selectedParam">
        <md-option *ngFor="let param of searchByParams" [value]="param.param" >
          {{param.name}}
        </md-option>
      </md-select>

      <md-radio-group name="typeWeather"  [value]="'weather'" [(ngModel)]="selectedValues.typeWeather">
        <md-radio-button value="weather" selected>Weather</md-radio-button>
        <md-radio-button value="forecast">Forecast</md-radio-button>
      </md-radio-group>

      <div class="switch-inputs" [ngSwitch]="selectedParam">
        <ng-container *ngSwitchCase="searchByParams[1].param">
          <md-form-field [style.display]="'block'">
            <input mdInput pattern="[0-9]{5,10}" [required]="true" placeholder="City ID" [(ngModel)]="selectedValues.id" name="city_id">
          </md-form-field>
        </ng-container>
        <ng-container *ngSwitchCase="searchByParams[2].param">
          <md-form-field [style]="{display: 'block'}">
            <input mdInput [required]="true" pattern="^[0-9]{1,3}\.[0-9]{1,10}$" placeholder="Latitude" [(ngModel)]="selectedValues.lat" name="city_lat">
          </md-form-field>
          <md-form-field [style]="{display: 'block'}">
            <input mdInput [required]="true" pattern="^[0-9]{1,3}\.[0-9]{1,10}$" placeholder="Longitude" [(ngModel)]="selectedValues.lon" name="city_lon">
          </md-form-field>
        </ng-container>
        <ng-container *ngSwitchCase="searchByParams[3].param">
          <md-form-field>
            <input mdInput [required]="true" pattern="^[0-9]{5,6}" placeholder="Zip code" [(ngModel)]="selectedValues.zip_code" name="zip_code">
          </md-form-field>
          <md-form-field>
            <input mdInput placeholder="Country code" pattern="^[0-9]{5,6}" [(ngModel)]="selectedValues.country_code" name="country_code">
          </md-form-field>
        </ng-container>
        <ng-container *ngSwitchDefault>
          <md-form-field>
            <input mdInput [required]="true" placeholder="City Name" min="2" maxlength="50" [(ngModel)]="selectedValues.city_name" name="city_name">
          </md-form-field>
          <md-form-field>
            <input mdInput placeholder="City code" pattern="[A-Za-z]{2,4}" [(ngModel)]="selectedValues.city_code" name="city_code">
          </md-form-field>
        </ng-container>

        <button [disabled]="!queryForm.valid" md-mini-fab>
          <md-icon>search</md-icon>
        </button>
        {{selectedValues | json}}
      </div>
    </form>
  </div>
  <div class="col-xs-12 col-md-8">
    <pre>{{weatherData | json}}</pre>
  </div>
</div>
